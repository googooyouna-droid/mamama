# 🌱 마음일기장 QA 체크리스트

## 📋 테스트 환경
- **브라우저**: Chrome, Firefox, Safari, Edge
- **디바이스**: 데스크톱, 태블릿, 모바일
- **네트워크**: 온라인, 오프라인, 느린 연결

---

## 🔐 1. 역할별 권한 테스트

### 1.1 로그인 및 역할 선택
- [ ] 가족 PIN 입력 가능
- [ ] 부모/자녀 역할 선택 가능
- [ ] 선택한 역할이 UI에 반영됨
- [ ] 잘못된 PIN 입력 시 에러 처리

### 1.2 일기 작성 권한
- [ ] **부모 역할**: 부모 섹션만 수정 가능, 자녀 섹션은 읽기 전용
- [ ] **자녀 역할**: 자녀 섹션만 수정 가능, 부모 섹션은 읽기 전용
- [ ] 읽기 전용 섹션에 "읽기 전용" 표시
- [ ] 수정 가능 섹션에 "수정 가능" 표시

### 1.3 댓글 권한
- [ ] 자신의 댓글만 수정/삭제 가능
- [ ] 상대방 댓글에는 답글만 가능
- [ ] 로그인하지 않은 상태에서는 댓글 작성 불가

---

## 📅 2. 달력 감정 이모티콘 테스트

### 2.1 감정 규칙 확인
- [ ] **같은 감정**: 부모😊 + 자녀😊 → 달력😊
- [ ] **다른 감정**: 부모😊 + 자녀😢 → 달력😐 (중립)
- [ ] **한쪽만**: 부모(없음) + 자녀😊 → 달력😊
- [ ] **둘 다 없음**: 부모(없음) + 자녀(없음) → 달력🌱

### 2.2 달력 표시
- [ ] 이번 달만 표시 (이전/다음 달 이동 없음)
- [ ] 각 날짜에 감정 이모티콘 표시
- [ ] 일기 작성일은 시각적으로 구분
- [ ] 오늘 날짜 강조 표시
- [ ] 감정 통계 하단에 표시

### 2.3 감정 규칙 안내
- [ ] 도움말 버튼(?) 클릭 시 규칙 설명 표시
- [ ] 4가지 규칙이 시각적으로 구분되어 표시
- [ ] 각 규칙의 예시가 명확히 표시

---

## 💬 3. 댓글 3단 구조 테스트

### 3.1 댓글 작성
- [ ] 각 섹션(자녀/부모)별로 댓글 작성 가능
- [ ] 댓글 텍스트 입력 및 등록
- [ ] 작성자 정보 표시 (역할 + 이모지)
- [ ] 작성 시간 표시 ("방금 전", "5분 전" 등)

### 3.2 답글 시스템
- [ ] **1단**: 댓글 작성
- [ ] **2단**: 답글 작성 (댓글 → 답글)
- [ ] **3단**: 재답글 작성 (답글 → 재답글)
- [ ] **4단 이상**: 재답글 작성 불가
- [ ] 답글은 들여쓰기로 표시

### 3.3 댓글 관리
- [ ] 자신의 댓글 수정/삭제 가능
- [ ] 상대방 댓글에는 답글만 가능
- [ ] 댓글 삭제 시 확인 없이 즉시 삭제

### 3.4 스티커 기능
- [ ] 상대방 댓글에 스티커 추가 가능
- [ ] 스티커 선택 다이얼로그 표시
- [ ] 추가된 스티커가 댓글에 표시
- [ ] 스티커: ❤️, 👍, 🌸, 😊, 🎉

---

## 📷 4. 사진 업로드 테스트

### 4.1 파일 선택
- [ ] 📎 버튼 클릭 시 파일 선택 다이얼로그 열림
- [ ] 이미지 파일만 선택 가능
- [ ] 파일 크기 제한 확인 (필요시)
- [ ] 지원 형식: JPG, PNG, GIF, WebP

### 4.2 업로드 상태 표시
- [ ] **⌛ 대기 중**: 파일 선택 직후 (주황색)
- [ ] **🔄 업로드 중**: Firebase 업로드 중 (파란색)
- [ ] **✅ 업로드 완료**: 정상 업로드 (초록색)
- [ ] **⚠ 업로드 실패**: 에러 발생 (빨간색)

### 4.3 썸네일 표시
- [ ] 업로드 전후 썸네일 표시
- [ ] 80x80 크기로 일관된 표시
- [ ] 이미지 로드 실패 시 에러 아이콘
- [ ] 가로 스크롤로 여러 사진 표시

### 4.4 사진 관리
- [ ] 수정 권한이 있는 경우에만 삭제 버튼 표시
- [ ] 사진 삭제 시 확인 없이 즉시 삭제
- [ ] 삭제 후 Firebase Storage에서도 제거
- [ ] 사진 개수가 헤더에 정확히 표시

---

## 🔄 5. 오프라인 동기화 테스트

### 5.1 오프라인 상태 표시
- [ ] **온라인**: 상태바 숨김 (정상)
- [ ] **오프라인**: "오프라인 작성 저장됨 · 연결 시 자동 업로드" (주황색)
- [ ] **동기화 대기**: "오프라인 작성 저장됨 · 자동 업로드" (초록색)
- [ ] **동기화 중**: "동기화 중..." (파란색 + 로딩 스피너)

### 5.2 오프라인 일기 작성
- [ ] 네트워크 끊김 상태에서 일기 작성 가능
- [ ] 저장 시 "오프라인에 저장되었습니다" 메시지
- [ ] 오프라인 상태바가 상단에 표시
- [ ] 일기 내용이 로컬에 임시 저장

### 5.3 오프라인 사진 업로드
- [ ] 네트워크 끊김 상태에서 사진 첨부 가능
- [ ] 사진 상태가 ⌛ (대기 중)으로 표시
- [ ] 사진이 로컬에 임시 저장
- [ ] 썸네일은 표시되지 않음

### 5.4 자동 동기화
- [ ] 네트워크 복구 시 자동으로 동기화 시작
- [ ] 오프라인 일기가 Firebase에 업로드
- [ ] 오프라인 사진이 Firebase Storage에 업로드
- [ ] 동기화 완료 후 오프라인 데이터 정리

### 5.5 수동 동기화
- [ ] 동기화 대기 상태에서 "동기화" 버튼 표시
- [ ] 수동 동기화 버튼 클릭 시 즉시 동기화
- [ ] 동기화 중에는 버튼이 로딩 스피너로 변경
- [ ] 동기화 완료 후 상태바 사라짐

---

## 🌐 6. 웹 호환성 테스트

### 6.1 브라우저 호환성
- [ ] **Chrome**: 모든 기능 정상 동작
- [ ] **Firefox**: 모든 기능 정상 동작
- [ ] **Safari**: 모든 기능 정상 동작
- [ ] **Edge**: 모든 기능 정상 동작

### 6.2 반응형 디자인
- [ ] **데스크톱** (1920x1080): 전체 레이아웃 정상
- [ ] **태블릿** (768x1024): 적절한 크기 조정
- [ ] **모바일** (375x667): 모바일 최적화
- [ ] **가로/세로 모드**: 모든 방향에서 정상

### 6.3 성능 테스트
- [ ] 초기 로딩 시간 < 3초
- [ ] 페이지 전환 시간 < 1초
- [ ] 이미지 로딩 최적화
- [ ] 메모리 사용량 적절

---

## 🔧 7. 기술적 테스트

### 7.1 Firebase 연동
- [ ] Firebase Auth 익명 로그인 정상
- [ ] Firestore 데이터 읽기/쓰기 정상
- [ ] Firebase Storage 업로드/다운로드 정상
- [ ] Firestore 오프라인 캐시 정상

### 7.2 에러 처리
- [ ] 네트워크 에러 시 적절한 메시지 표시
- [ ] Firebase 권한 에러 시 처리
- [ ] 파일 업로드 실패 시 재시도 가능
- [ ] 예상치 못한 에러 시 앱 크래시 없음

### 7.3 데이터 일관성
- [ ] 일기 저장 후 즉시 달력에 반영
- [ ] 댓글 추가 후 즉시 목록에 반영
- [ ] 사진 업로드 후 즉시 썸네일 표시
- [ ] 오프라인 데이터 동기화 후 일관성 유지

---

## 📝 8. 사용자 경험 테스트

### 8.1 직관적 사용성
- [ ] 처음 사용자도 쉽게 이해 가능
- [ ] 각 버튼의 기능이 명확함
- [ ] 상태 표시가 직관적임
- [ ] 에러 메시지가 이해하기 쉬움

### 8.2 접근성
- [ ] 키보드만으로 모든 기능 사용 가능
- [ ] 스크린 리더 호환성
- [ ] 색상 대비 충분함
- [ ] 텍스트 크기 적절함

### 8.3 일관성
- [ ] 전체 앱에서 일관된 디자인
- [ ] 동일한 기능의 동작이 일관됨
- [ ] 색상 및 폰트 일관성
- [ ] 애니메이션 및 전환 효과 일관성

---

## ✅ 테스트 완료 체크리스트

### 필수 기능
- [ ] 로그인 및 역할 선택
- [ ] 일기 작성 및 저장
- [ ] 달력 표시 및 감정 이모티콘
- [ ] 댓글 3단 구조
- [ ] 사진 업로드 및 관리
- [ ] 오프라인 동기화

### 선택 기능
- [ ] 감정 규칙 안내
- [ ] 스티커 기능
- [ ] 수동 동기화
- [ ] 에러 처리

### 최종 확인
- [ ] 모든 필수 기능 정상 동작
- [ ] 주요 브라우저에서 호환성 확인
- [ ] 모바일/태블릿 반응형 확인
- [ ] 성능 및 안정성 확인

---

## 🚀 배포 전 최종 체크

### 코드 품질
- [ ] 모든 TODO 주석 제거
- [ ] 디버그 로그 정리
- [ ] 불필요한 파일 제거
- [ ] 코드 최적화 완료

### 보안
- [ ] Firebase 보안 규칙 설정
- [ ] 민감한 정보 하드코딩 없음
- [ ] HTTPS 강제 설정
- [ ] XSS 보호 헤더 설정

### 문서화
- [ ] README.md 업데이트
- [ ] 배포 가이드 작성
- [ ] 사용자 매뉴얼 작성
- [ ] 개발자 문서 정리

---

**테스트 완료 일시**: ___________  
**테스터**: ___________  
**최종 승인**: ___________
