<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- 문자 인코딩 -->
  <meta charset="UTF-8" />

  <!-- 모바일 반응형 및 확대 방지 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />

  <!-- 페이지 정보 -->
  <title>mamama - 감정 달력 & 일기</title>
  <meta name="description" content="🌱 감정을 기록하고 공유하는 작은 일기 앱 mamama" />
  <meta name="theme-color" content="#81C784" />

  <!-- 파비콘 (선택사항) -->
  <link rel="icon" href="./favicon.ico" />

  <!-- 스타일 -->
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <!-- 로딩 화면 -->
  <div class="loading-screen">
    <div class="loading-content">
      <div class="loading-icon">🌿</div>
      <div class="loading-text">마음을 불러오는 중...</div>
    </div>
  </div>

  <!-- 앱 컨테이너 -->
  <div class="app-container" id="app">
    <!-- 홈 화면 -->
    <div id="home-screen" class="screen">
      <div class="home-content">
        <div class="logo-section">
          <div class="logo-icon">🌱</div>
          <div class="app-title">mamama</div>
          <div class="app-subtitle">작은 기록이 큰 마음이 됩니다</div>
        </div>

        <div class="login-section">
          <div class="input-card">
            <input id="pin-input" class="pin-input" type="password" maxlength="6" placeholder="PIN 입력" />
            <button id="enter-btn" class="enter-btn">시작하기</button>
          </div>
        </div>

        <div class="role-section">
          <div class="role-title">역할을 선택하세요</div>
          <div class="role-cards">
            <div class="role-card" data-role="parent">
              <div class="role-icon">👩‍👧</div>
              <div class="role-name">부모</div>
              <div class="role-subtitle">오늘의 마음 나누기</div>
            </div>
            <div class="role-card" data-role="child">
              <div class="role-icon">👦</div>
              <div class="role-name">자녀</div>
              <div class="role-subtitle">하루의 기분 기록하기</div>
            </div>
          </div>
          <div class="welcome-message">🌿 마음을 담아 서로의 하루를 기록해보세요.</div>
        </div>
      </div>
    </div>

    <!-- 달력 화면 -->
    <div id="calendar-screen" class="screen" style="display: none;">
      <div class="app-bar">
        <h2 class="screen-title">감정 달력</h2>
        <div class="app-bar-actions">
          <button class="icon-btn" id="open-rules-btn" title="감정 규칙">❔</button>
        </div>
      </div>

      <div class="calendar-content">
        <div class="user-info">
          <div class="user-greeting">안녕하세요 💚</div>
        </div>

        <div class="calendar-container">
          <div class="weekday-header">
            <div class="weekday">일</div>
            <div class="weekday">월</div>
            <div class="weekday">화</div>
            <div class="weekday">수</div>
            <div class="weekday">목</div>
            <div class="weekday">금</div>
            <div class="weekday">토</div>
          </div>
          <div class="calendar-grid" id="calendar-grid"></div>
        </div>

        <div class="emotion-stats">
          <div class="stats-title">이달의 감정 통계</div>
          <div class="stats-content" id="emotion-stats"></div>
        </div>
      </div>
    </div>

    <!-- 일기 화면 -->
    <div id="diary-screen" class="screen" style="display: none;">
      <div class="app-bar">
        <h2 class="screen-title">감정 일기</h2>
      </div>

      <div class="diary-content">
        <!-- 부모 일기 -->
        <div class="diary-section parent-section">
          <div class="section-header">
            <div class="section-title">부모 일기</div>
            <div class="emotion-selector">
              <button class="emotion-btn">😊</button>
              <button class="emotion-btn">😢</button>
              <button class="emotion-btn">😐</button>
            </div>
          </div>
          <textarea class="diary-textarea" placeholder="오늘의 마음을 기록해보세요..."></textarea>
          <div class="photo-section">
            <button class="photo-add-btn">📷 사진 추가</button>
            <div class="photo-grid"></div>
          </div>
        </div>

        <!-- 댓글 섹션 -->
        <div class="comment-section">
          <div class="comment-title">댓글</div>
          <div class="comments-list"></div>
          <div class="comment-input-area">
            <div class="comment-input-box">
              <textarea
                class="comment-input"
                placeholder="따뜻한 마음을 전해보세요..."
                rows="2"
              ></textarea>
              <button class="comment-submit-btn">작성</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 알림 (스낵바) -->
  <div id="snackbar" class="snackbar"></div>

  <!-- 모달: 감정 규칙 -->
  <div id="emotion-rules-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>감정 표시 규칙</h3>
        <button class="modal-close" id="modal-close-btn">✕</button>
      </div>
      <div class="modal-body">
        <div class="rule-item">
          <div class="rule-emoji">😊</div>
          <div class="rule-text">
            <strong>같은 감정</strong>
            <p>부모와 자녀가 같은 감정을 선택했을 때</p>
          </div>
        </div>
        <div class="rule-item">
          <div class="rule-emoji">😐</div>
          <div class="rule-text">
            <strong>다른 감정</strong>
            <p>부모와 자녀가 다른 감정을 선택했을 때</p>
          </div>
        </div>
        <div class="rule-item">
          <div class="rule-emoji">😊 / 😢</div>
          <div class="rule-text">
            <strong>한쪽만 선택</strong>
            <p>부모 또는 자녀 중 한쪽만 선택했을 때</p>
          </div>
        </div>
        <div class="rule-item">
          <div class="rule-emoji">🌱</div>
          <div class="rule-text">
            <strong>둘 다 없음</strong>
            <p>아무도 감정을 선택하지 않았을 때</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript 모듈 -->
  <script src="./utils.js"></script>
  <script src="./models.js"></script>
  <script src="./db.js"></script>
  <script src="./app.js"></script>
</body>
</html>
